load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "ipfs",
    srcs = [
        "fx.go",
        "manager.go",
        "pubsub.go",
        "routing.go",
        "storage.go",
    ],
    importpath = "github.com/greenboxal/aip/aip-sdk/pkg/network/ipfs",
    visibility = ["//visibility:public"],
    deps = [
        "//aip-forddb/pkg/forddb",
        "//aip-sdk/pkg/config",
        "//aip-sdk/pkg/network/p2p",
        "@com_github_cockroachdb_errors//:errors",
        "@com_github_ipfs_boxo//bitswap",
        "@com_github_ipfs_boxo//bitswap/network",
        "@com_github_ipfs_boxo//blockservice",
        "@com_github_ipfs_boxo//blockstore",
        "@com_github_ipfs_boxo//coreiface",
        "@com_github_ipfs_boxo//coreiface/options",
        "@com_github_ipfs_boxo//gateway",
        "@com_github_ipfs_boxo//ipld/merkledag",
        "@com_github_ipfs_boxo//namesys",
        "@com_github_ipfs_boxo//pinning/pinner",
        "@com_github_ipfs_boxo//pinning/pinner/dspinner",
        "@com_github_ipfs_boxo//routing/http/client",
        "@com_github_ipfs_boxo//routing/http/contentrouter",
        "@com_github_ipfs_go_cid//:go-cid",
        "@com_github_ipfs_go_ds_badger//:go-ds-badger",
        "@com_github_ipfs_go_graphsync//:go-graphsync",
        "@com_github_ipfs_go_graphsync//impl",
        "@com_github_ipfs_go_graphsync//network",
        "@com_github_ipfs_go_graphsync//storeutil",
        "@com_github_ipfs_go_ipld_format//:go-ipld-format",
        "@com_github_ipld_go_ipld_prime//:go-ipld-prime",
        "@com_github_ipld_go_ipld_prime//datamodel",
        "@com_github_ipld_go_ipld_prime//linking",
        "@com_github_ipld_go_ipld_prime//linking/cid",
        "@com_github_libp2p_go_doh_resolver//:go-doh-resolver",
        "@com_github_libp2p_go_libp2p//core/host",
        "@com_github_libp2p_go_libp2p//core/peer",
        "@com_github_libp2p_go_libp2p//core/routing",
        "@com_github_libp2p_go_libp2p_pubsub//:go-libp2p-pubsub",
        "@com_github_multiformats_go_multiaddr_dns//:go-multiaddr-dns",
        "@org_uber_go_fx//:fx",
        "@org_uber_go_multierr//:multierr",
    ],
)
